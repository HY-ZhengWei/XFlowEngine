<?xml version="1.0" encoding="UTF-8"?>

<config>

	<import name="sqls"            class="java.util.ArrayList" />
	<import name="sqlGroup"        class="org.hy.common.xml.plugins.XSQLGroup" />
	<import name="sql"             class="org.hy.common.xml.XSQL" />



    <!-- 工作流活动组件(节点)的路由表模块的相关SQL -->
	<sqls>
	
		<sql id="XSQL_XFlow_ActivityRoute_QueryByTemplateID"> 
		
			<dataSourceGroup ref="DSG_XFlow" />
			
			<content>
				<![CDATA[
				SELECT  A.arID
				       ,A.arName
				       ,A.templateID
				       ,A.routeTypeID
				       ,B.routeTypeID   AS "routeType.routeTypeID"
				       ,B.routeType     AS "routeType.routeType"
				       ,B.infoComment   AS "routeType.infoComment"
				       ,A.activityID
				       ,A.nextActivityID
				       ,A.conditionXJavaID
				       ,A.conditionMethod
				       ,A.conditionValue
				       ,A.conditionVType
				       ,A.infoComment
				       ,A.createrID
				       ,A.creater
				       ,A.createTime
				       ,A.lastUserID
				       ,A.lastUser
				       ,A.lastTime
				  FROM  TActivityRoute  A
				       ,TRouteType      B
				 WHERE  A.routeTypeID = B.routeTypeID
				   AND  A.templateID  = ':templateID'
				 ORDER  BY A.activityID ,B.orderNo ,A.nextActivityID
				]]>
			</content>
			
			<result>
				<table>org.hy.common.TablePartition</table>
				<fill>putRow(row.activityID ,row)</fill>
				<row>org.hy.xflow.engine.bean.ActivityRoute</row>
				<cfill>setter(colValue)</cfill>
			</result>
			
		</sql>
		
	</sqls>
	
</config>